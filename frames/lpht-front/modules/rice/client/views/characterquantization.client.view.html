<div class="modal-header" >
    <h3 class="modal-title"> 量化等级编辑器</h3>
</div>
<div class="modal-body " >
    <div  class="panel panel-default" uib-collapse="isCollapsed=!(type=='枚举')">
       <div class="panel-heading"> 枚举型 </div>
       <div class="panel-body">
        <form class="form-horizontal form-validation" name="enumForm">
         <div class="row " ng-repeat="x in mm.enumValue">
           <div class=" col-sm-6 ">
            <div class="form-group">
              <lable class="  col-xs-4 control-label text-sm">性状数据</lable>
              <div class="  col-xs-8">
                <input type="text" class="form-control input-sm" ng-model="x.enumKey"  required>
                <!-- <div ng-messages="enumForm[{{x.enumKey}}].$dirty && enumForm[{{x.enumKey}}].$error" >
                  <p class="help-block text-sm" ng-message = "required">请填写性状枚举值</p>
                </div> -->
              </div>
            </div>
          </div>
           <div class=" col-sm-6 ">
            <div class="form-group">
              <lable class="  col-xs-4 control-label text-sm">对应分值</lable>
              <div class="  col-xs-8">
                <input type="number" class="form-control input-sm" placeholder="分值" ng-model="x.value" name="enumValue"  min="0" required>
               <!--  <div ng-messages="enumForm.enumValue.$dirty && enumForm.enumValue.$error" >
                     <p class="help-block text-sm" ng-message = "required">请填写分值</p>
                     <p class="help-block text-sm" ng-message = "min">分值不能小于0</p>
                </div> -->
              </div>
            </div>
          </div>
         </div>

        </form>
      </div>
    </div>

    <div  class="panel panel-default" uib-collapse="isCollapsed=!(type=='数值')">
      <div class="panel-heading"> 数值型 </div>
      <div class="panel-body">
        <form class="form-horizontal form-validation" name="dataForm">
            <div class="row m-b-md " ng-repeat="q in mm.numValue">
              <div class=" col-sm-7">
                 <div class=" col-xs-4">
                   <input type="number" class="form-control input-sm"  ng-model="q.low" readonly >
                 </div>
                 <label class=" col-xs-2 small no-padder m-t-xs">（含）到</label>

                 <div class=" col-xs-4" >
                   <input type="number" class="form-control input-sm"  ng-model="q.up" readonly >
                 </div>
                 <label class=" col-xs-2 small no-padder m-t-xs">（含）</label>
              </div>

              <div class=" col-sm-5 ">
                <lable class=" col-sm-4  control-label text-sm ">对应分值</lable>
                <div class=" col-sm-5 ">
                  <input type="number" class="form-control input-sm "  ng-model="q.value"  readonly>
                </div>

                <button type="button" class=" btn btn-sm btn-danger" ng-click="mm.delNumRow(q)">删除</button>
              </div>

            </div>

            <div class="row m-b-md " >
              <div class=" col-sm-7 ">
                 <div class=" col-sm-4">
                   <input type="number" class="form-control input-sm" name="low"  ng-model="mm.num.low" min="0"  required>
                   <div ng-messages="dataForm.low.$dirty && dataForm.low.$error" >
                     <p class="help-block text-sm" ng-message = "required">请填写初始值</p>
                     <p class="help-block text-sm" ng-message = "min">初始值不能小于0</p>
                   </div>
                 </div>
                 <label class=" col-sm-2 small no-padder m-t-xs">（含）到</label>

                 <div class=" col-sm-4" >
                   <input type="number" class="form-control input-sm" name="up"  ng-model="mm.num.up" min="{{dataForm.low.$modelValue+1}}" required>
                   <div ng-messages="dataForm.up.$dirty && dataForm.up.$error" >
                     <p class="help-block text-sm" ng-message = "required">请填写结束值</p>
                     <p class="help-block text-sm" ng-message = "min">结束值不小于初始值</p>
                   </div>
                 </div>
                 <label class=" col-sm-2 small no-padder m-t-xs">（含）</label>
              </div>

              <div class=" col-sm-5 ">
                <lable class=" col-sm-4  control-label text-sm ">对应分值</lable>
                <div class=" col-sm-5 ">
                  <input type="number" class="form-control input-sm " name="value"  min="0" ng-model="mm.num.value" required>
                  <div ng-messages="dataForm.value.$dirty && dataForm.value.$error" >
                     <p class="help-block text-sm" ng-message = "required">请填写分值</p>
                     <p class="help-block text-sm" ng-message = "min">分值不能小于0</p>
                   </div>
                </div>
                <button type="button" class=" btn btn-sm btn-primary" ng-click="mm.addNumRow()" ng-disabled="dataForm.$invalid">添加</button>
              </div>
            </div>

        </form>
      </div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary btn-sm" ng-click="save()">保存提交</button>
    <button class="btn btn-default btn-sm" ng-click="cancel()">取消</button>
</div>
