
DROP TABLE BASE_USER_ROLE;

DROP TABLE BASE_ROLE_MENU;

DROP TABLE BASE_DEPARTMENT;

DROP TABLE BASE_BRANCH;

DROP TABLE BASE_HELP_TYPECODE;

DROP TABLE BASE_HELP_TYPECODE_MAIN;

DROP TABLE BASE_LOGS;

DROP TABLE BASE_ROLE_MENU_FUNCTION;

DROP TABLE BASE_MENUS;

DROP TABLE BASE_ROLES;

DROP TABLE BASE_USER_HEAD;

DROP TABLE BASE_USERS;

DROP TABLE BASE_EMPLOYEE;

DROP TABLE BASE_ORGANIZATION;

DROP TABLE COMM_DB_DATE;

DROP TABLE COMM_SEQ_GEN;

CREATE TABLE BASE_BRANCH
(
	NODEID               VARCHAR(36) NOT NULL,
	MANAGER              VARCHAR(32) NULL,
	ORG_ADDR             VARCHAR(255) NULL,
	LINK_TEL             VARCHAR(255) NULL
);

ALTER TABLE BASE_BRANCH
ADD PRIMARY KEY (NODEID);

CREATE TABLE BASE_DEPARTMENT
(
	NODEID               VARCHAR(36) NOT NULL,
	MANAGER              VARCHAR(32) NULL,
	RESPONSIBILITY       VARCHAR(255) NULL,
	DESCRIPTION          VARCHAR(255) NULL,
	LINK_TEL             VARCHAR(255) NULL
);

ALTER TABLE BASE_DEPARTMENT
ADD PRIMARY KEY (NODEID);

CREATE TABLE BASE_EMPLOYEE
(
	NODEID               VARCHAR(36) NOT NULL,
	SEX                  VARCHAR(1) NULL,
	CARD_ID              VARCHAR(255) NULL,
	EMPPHN               VARCHAR(255) NULL,
	BIRTHDATE            VARCHAR(10) NULL,
	nationality          VARCHAR(2) NULL,
	marriage             VARCHAR(20) NULL,
	political            VARCHAR(20) NULL,
	TEL                  VARCHAR(20) NULL,
	ADDRESS              VARCHAR(200) NULL
);

ALTER TABLE BASE_EMPLOYEE
ADD PRIMARY KEY (NODEID);

CREATE TABLE BASE_HELP_TYPECODE
(
	TYPECODE             VARCHAR(255) NOT NULL,
	CODE                 VARCHAR(50) NOT NULL,
	MESSAGE              VARCHAR(50) NULL,
	orderno              INTEGER NULL,
	remark               VARCHAR(255) NULL,
	PARENT_ID            VARCHAR(50) NULL
);

ALTER TABLE BASE_HELP_TYPECODE
ADD PRIMARY KEY (TYPECODE,CODE);

CREATE TABLE BASE_HELP_TYPECODE_MAIN
(
	TYPECODE             VARCHAR(255) NOT NULL,
	TYPENAME             VARCHAR(255) NULL,
	ORDERNO              INTEGER NULL,
	REMARK               VARCHAR(255) NULL
);

ALTER TABLE BASE_HELP_TYPECODE_MAIN
ADD PRIMARY KEY (TYPECODE);

CREATE TABLE BASE_LOGS
(
	LOG_ID               VARCHAR(36) NOT NULL,
	LOG_DATE             VARCHAR(10) NULL,
	LOG_TIME             VARCHAR(20) NULL,
	OP_TYPE              VARCHAR(20) NULL,
	OP_CODE              VARCHAR(20) NULL,
	OP_DESC              VARCHAR(20) NULL,
	NODEID               VARCHAR(36) NULL,
	OP_IP                VARCHAR(20) NULL
);

ALTER TABLE BASE_LOGS
ADD PRIMARY KEY (LOG_ID);

CREATE TABLE BASE_MENUS
(
	MENU_ID              VARCHAR(36) NOT NULL,
	NAME                 VARCHAR(20) NULL,
	ORDERNO              INTEGER NULL,
	PARENT_ID            VARCHAR(36) NULL,
	CODE                 VARCHAR(20) NULL,
	RES_URL              VARCHAR(255) NULL,
	RES_CONFIG           VARCHAR(255) NULL
);

ALTER TABLE BASE_MENUS
ADD PRIMARY KEY (MENU_ID);

CREATE TABLE BASE_ORGANIZATION
(
	NODEID               VARCHAR(36) NOT NULL,
	PARENT_ID            VARCHAR(36) NULL,
	NODETYPE             VARCHAR(2) NULL,
	VERSION              INTEGER NULL,
	NODECODE             VARCHAR(20) NULL,
	NODENAME             VARCHAR(255) NULL,
	SHORTNAME            VARCHAR(80) NULL,
	STATUS               VARCHAR(2) NULL,
	ORDERNO              INTEGER NULL
);

ALTER TABLE BASE_ORGANIZATION
ADD PRIMARY KEY (NODEID);

CREATE TABLE BASE_ROLE_MENU
(
	ROLE_ID              VARCHAR(36) NOT NULL,
	MENU_ID              VARCHAR(36) NOT NULL,
	DATA_RANGE           VARCHAR(20) NULL,
	CREATOR              VARCHAR(36) NULL,
	CREATE_TIME          DATE NULL
);

ALTER TABLE BASE_ROLE_MENU
ADD PRIMARY KEY (ROLE_ID,MENU_ID);

CREATE TABLE BASE_ROLE_MENU_FUNCTION
(
	FUN_CODE             VARCHAR(20) NOT NULL,
	ROLE_ID              VARCHAR(36) NOT NULL,
	MENU_ID              VARCHAR(36) NOT NULL
);

ALTER TABLE BASE_ROLE_MENU_FUNCTION
ADD PRIMARY KEY (FUN_CODE,ROLE_ID,MENU_ID);

CREATE TABLE BASE_ROLES
(
	ROLE_ID              VARCHAR(36) NOT NULL,
	NAME                 VARCHAR(50) NULL,
	DESCN                VARCHAR(255) NULL,
	CREATOR              VARCHAR(36) NULL,
	CREATE_TIME          DATE NULL
);

ALTER TABLE BASE_ROLES
ADD PRIMARY KEY (ROLE_ID);

CREATE TABLE BASE_USER_HEAD
(
	USER_ID              VARCHAR(36) NOT NULL,
	IMG                  blob NULL,
	FILE_NAME			 VARCHAR(255)
);

ALTER TABLE BASE_USER_HEAD
ADD PRIMARY KEY (USER_ID);

CREATE TABLE BASE_USER_ROLE
(
	USER_ID              VARCHAR(36) NOT NULL,
	ROLE_ID              VARCHAR(36) NOT NULL,
	CREATOR              VARCHAR(36) NULL,
	CREATE_TIME          DATE NULL
);

ALTER TABLE BASE_USER_ROLE
ADD PRIMARY KEY (USER_ID,ROLE_ID);

CREATE TABLE BASE_USERS
(
	USER_ID              VARCHAR(36) NOT NULL,
	USERNAME              VARCHAR(20) NULL,
	PASSWORD             VARCHAR(255) NULL,
	STATUS               VARCHAR(2) NULL,
	EXPIREDATE           VARCHAR(10) NULL,
	USER_TYPE            VARCHAR(2) NULL,
	CREATOR              VARCHAR(36) NULL,
	CREATE_TIME          DATE NULL,
	NODEID               VARCHAR(36) NULL,
	ONLINE_STATUS        VARCHAR(2) NULL
);

ALTER TABLE BASE_USERS
ADD PRIMARY KEY (USER_ID);

CREATE UNIQUE INDEX XAK1LOGINID ON BASE_USERS
(
	USERNAME
);

CREATE TABLE COMM_DB_DATE
(
	ID                   VARCHAR(36) NOT NULL
);

ALTER TABLE COMM_DB_DATE
ADD PRIMARY KEY (ID);

CREATE TABLE COMM_SEQ_GEN
(
	ID                   VARCHAR(255) NOT NULL,
	TABLE_NAME           VARCHAR(100) NULL,
	COLUMN_NAME          VARCHAR(100) NULL,
	COLUMN_VALUE         INTEGER NULL,
	VERSION              INTEGER NULL
);

ALTER TABLE COMM_SEQ_GEN
ADD PRIMARY KEY (ID);
